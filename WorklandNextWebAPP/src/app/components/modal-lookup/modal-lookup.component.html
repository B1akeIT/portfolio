<!-- <div class="modal fade">
  <div class="modal-dialog" role="document">
    <div class="modal-content"> -->
      <div class="modal-header">
        <h5 class="modal-title">{{ 'APP.TITLE.choose-' + model | translate }}</h5>
        <button type="button" class="close" (click)="closeModal()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body px-0 py-0">
        <div class="" style="height:100%;">
          <div class="flex-layout-header w-100 border-bottom" style="height: 40px;">
            <div class="bg-gray-100-" style="width: 100%;">
              <div class="d-flex flex-row justify-content-between">
                <div class="col-5 px-1">
                  <div class="float-left mr-2" style="padding: 0.5em 0.40rem !important">
                    {{ 'APP.TITLE.lookup-' + model | translate }}
                  </div>
                  <div class="btn-group btn-group-sm float-left" style="padding: 0.2em 0rem !important">
                      <a class="btn btn-warning" (click)="onSelected(currentItem)" [class.disabled]="currentId == 0">
                        <i class="icon-check"></i> {{ 'APP.TITLE.choose-' + model | translate }}</a>
                  </div>
                </div>
                <div class="col-3 px-0">
                  <div class="" style="padding: 0.2em 0.40rem !important">
                    <app-filter-textbox class="w-50" (changed)="onFilterChanged($event)"></app-filter-textbox>
                  </div>
                </div>
                <div class="col-4 px-0">
                  <div class="buttons-bar float-right">
                    <div class="btn-toolbar" style="padding: 0.20em 0.25rem !important">
                      <div class="btn-group btn-group-sm mr-1">
                        <label class="btn btn-outline-secondary cursor-pointer" title="Aggiorna" (click)="refresh()">
                          <i class="icon-reload" aria-hidden="true"></i>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex-layout-body w-100" [style.height.px]="_H" style="overflow: auto;">
            <ngx-loading
              [show]="loading"
              [config]="loadingOptions">
            </ngx-loading>
            <div class="d-flex flex-column justify-content-center align-items-center w-100 h-100" *ngIf="!items?.length">
              <div class="text-center" *ngIf="!loading">
                <h6 class="no-messages-text mt-3">{{ 'APP.MESSAGE.no_elements' | translate }}</h6>
              </div>
              <div class="text-center" *ngIf="error">
                <h6 class="text-danger mt-3 w-75 mx-auto">{{ errorMessage | translate }}</h6>
              </div>
            </div>
            <div class="container-fluid px-0" style="width: calc( 100% ); height: calc( 100% );" *ngIf="items?.length">
              <div id="grid-wrapper" class="px-0" style="width: calc( 100% ); height: calc( 100% );">
                <!-- Items list -->
                <ag-grid-angular
                  style="width: 100%; height: 100%;"
                  class="ag-theme-balham"
                  [rowData]="items"
                  [columnDefs]="agColumnDefs"
                  [defaultColDef]="agDefaultColumnDefs"
                  [gridOptions]="agGridOptions"
                  (gridReady)="onGridReady($event)"
                  (gridSizeChanged)="onGridSizeChanged($event)"
                  (selectionChanged)="onSelectionChanged($event)"
                  (sortChanged)="onSortChanged($event)"
                  (cellDoubleClicked)="onDoubleClicked($event)">
                </ag-grid-angular>
              </div>
            </div>
            <!-- <div class="px-4 py-4">
              <div>{{ model }}</div>
              <div><pre>{{ searchField | json }}</pre></div>
              <div><pre>{{ item | json }}</pre></div>
            </div> -->
          </div>
          <div class="flex-layout-footer w-100 border-top" style="height: 40px;">
            <div class="bg-gray-100- w-100" style="width: 100%;">
              <div class="d-flex flex-row justify-content-between">
                <div class="col-6 pr-0 text-left">
                  <div class="command-menu btn-group btn-group-sm mr-1" *ngIf="numPages > 1">
                    <select class="form-control form-control-sm col-xs-2" [(ngModel)]="perPage" (change)="perPageChanged()" [disabled]="loading">
                      <option *ngFor="let item of selectPerPage;" [value]="item">{{ item }}</option>
                    </select>
                  </div>
                  <div class="command-menu btn-group btn-group-sm" *ngIf="numPages > 0">
                    <pagination class="pagination-sm mb-0"
                      [pageBtnClass]="'btn-danger'"
                      [boundaryLinks]="true"
                      [maxSize]="maxPages"
                      [itemsPerPage]="perPage"
                      [totalItems]="itemsMeta?.totalItems"
                      [(ngModel)]="currentPage"
                      (pageChanged)="pageChanged($event)"
                      previousText="&lsaquo;"
                      nextText="&rsaquo;"
                      firstText="&laquo;"
                      lastText="&raquo;">
                    </pagination>
                  </div>
                  <div class="command-menu btn-group btn-group-sm" *ngIf="numPages > 0">
                    <span class="btn btn-outline-secondary" tooltip="{{ 'APP.TOOLTIP.num_pages' | translate }}" placement="top"
                      container="body">
                      <i class="icon-book-open"></i> {{ numPages }}</span>
                  </div>
                </div>
                <div class="col-6 pl-0 pr-3 pt-1 text-right" *ngIf="items?.length">
                  <span class="btn btn-sm">{{ 'count_of_total_elements' | translate:countTranslateParams }}</span>
                </div>
                <div class="col pl-0 text-right">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light btn-sm" (click)="closeModal()">{{ 'APP.BUTTON.close' | translate }}</button>
      </div>
    <!-- </div>
  </div>
</div> -->
